<template>
  <view class="container">
    <!-- ç”¨æˆ·ä¿¡æ¯ -->
    <view class="user-header">
      <view class="avatar">
        <text class="avatar-text">{{ user.name ? user.name.charAt(0) : 'U' }}</text>
      </view>
      <view class="user-info">
        <text class="username">{{ user.name || 'æœªç™»å½•' }}</text>
        <text class="user-phone" v-if="user.phone">{{ user.phone }}</text>
      </view>
      <text class="edit-btn" @click="editProfile">ç¼–è¾‘</text>
    </view>

    <!-- è®¢å•ç»Ÿè®¡ -->
    <view class="stats-section">
      <view class="stat-item" @click="goToOrders(0)">
        <text class="stat-number">{{ stats.pending }}</text>
        <text class="stat-label">å¾…æ”¯ä»˜</text>
      </view>
      <view class="stat-item" @click="goToOrders(1)">
        <text class="stat-number">{{ stats.processing }}</text>
        <text class="stat-label">è¿›è¡Œä¸­</text>
      </view>
      <view class="stat-item" @click="goToOrders(2)">
        <text class="stat-number">{{ stats.completed }}</text>
        <text class="stat-label">å·²å®Œæˆ</text>
      </view>
    </view>

    <!-- åŠŸèƒ½èœå• -->
    <view class="menu-section">
      <view class="menu-item" @click="goToAddress">
        <text class="menu-icon">ğŸ“</text>
        <text class="menu-text">æ”¶è´§åœ°å€</text>
        <text class="menu-arrow">></text>
      </view>
      <view class="menu-item" @click="goToCoupons">
        <text class="menu-icon">ğŸ«</text>
        <text class="menu-text">ä¼˜æƒ åˆ¸</text>
        <text class="menu-arrow">></text>
      </view>
      <view class="menu-item" @click="goToFavorites">
        <text class="menu-icon">â¤ï¸</text>
        <text class="menu-text">æˆ‘çš„æ”¶è—</text>
        <text class="menu-arrow">></text>
      </view>
      <view class="menu-item" @click="goToSettings">
        <text class="menu-icon">âš™ï¸</text>
        <text class="menu-text">è®¾ç½®</text>
        <text class="menu-arrow">></text>
      </view>
    </view>

    <!-- å…¶ä»–åŠŸèƒ½ -->
    <view class="menu-section">
      <view class="menu-item" @click="contactService">
        <text class="menu-icon">ğŸ“</text>
        <text class="menu-text">è”ç³»å®¢æœ</text>
        <text class="menu-arrow">></text>
      </view>
      <view class="menu-item" @click="goToAbout">
        <text class="menu-icon">â„¹ï¸</text>
        <text class="menu-text">å…³äºæˆ‘ä»¬</text>
        <text class="menu-arrow">></text>
      </view>
    </view>
  </view>
</template>

<script>
export default {
  data() {
    return {
      user: {
        name: 'ç”¨æˆ·æ˜µç§°',
        phone: '138****8888'
      },
      stats: {
        pending: 1,
        processing: 1,
        completed: 5
      }
    }
  },
  methods: {
    editProfile() {
      uni.showToast({
        title: 'ç¼–è¾‘èµ„æ–™',
        icon: 'none'
      })
    },
    goToOrders(status) {
      uni.switchTab({
        url: '/pages/order/order'
      })
    },
    goToAddress() {
      uni.showToast({
        title: 'æ”¶è´§åœ°å€',
        icon: 'none'
      })
    },
    goToCoupons() {
      uni.showToast({
        title: 'ä¼˜æƒ åˆ¸',
        icon: 'none'
      })
    },
    goToFavorites() {
      uni.showToast({
        title: 'æˆ‘çš„æ”¶è—',
        icon: 'none'
      })
    },
    goToSettings() {
      uni.navigateTo({
        url: '/pages/settings/settings'
      })
    },
    contactService() {
      uni.makePhoneCall({
        phoneNumber: '400-123-4567'
      })
    },
    goToAbout() {
      uni.showModal({
        title: 'å…³äºæˆ‘ä»¬',
        content: 'ä¸Šé—¨å–‚çŒ«æœåŠ¡å°ç¨‹åº\nç‰ˆæœ¬ï¼š1.0.0\nä¸ºæ‚¨çš„çˆ±çŒ«æä¾›ä¸“ä¸šè´´å¿ƒçš„æœåŠ¡',
        showCancel: false
      })
    }
  }
}
</script>

<style lang="scss" scoped>
.container {
  min-height: 100vh;
  background: #FFF8DC;
}

.user-header {
  background: linear-gradient(135deg, #FF8C00 0%, #FFA500 100%);
  padding: 60rpx 30rpx 40rpx;
  display: flex;
  align-items: center;
  gap: 30rpx;
}

.avatar {
  width: 120rpx;
  height: 120rpx;
  border-radius: 60rpx;
  background: rgba(255, 255, 255, 0.3);
  display: flex;
  align-items: center;
  justify-content: center;
  border: 4rpx solid rgba(255, 255, 255, 0.5);
}

.avatar-text {
  font-size: 48rpx;
  font-weight: bold;
  color: #ffffff;
}

.user-info {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 10rpx;
}

.username {
  font-size: 36rpx;
  font-weight: bold;
  color: #ffffff;
}

.user-phone {
  font-size: 26rpx;
  color: rgba(255, 255, 255, 0.8);
}

.edit-btn {
  font-size: 28rpx;
  color: #ffffff;
  padding: 10rpx 20rpx;
  border: 1rpx solid rgba(255, 255, 255, 0.5);
  border-radius: 30rpx;
}

.stats-section {
  background: #ffffff;
  margin: -30rpx 30rpx 30rpx;
  border-radius: 20rpx;
  padding: 40rpx 0;
  display: flex;
  justify-content: space-around;
  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);
}

.stat-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10rpx;
}

.stat-number {
  font-size: 48rpx;
  font-weight: bold;
  color: #FF8C00;
}

.stat-label {
  font-size: 26rpx;
  color: #666;
}

.menu-section {
  background: #ffffff;
  border-radius: 20rpx;
  margin: 0 30rpx 30rpx;
  padding: 0 30rpx;
  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);
}

.menu-item {
  display: flex;
  align-items: center;
  padding: 30rpx 0;
  border-bottom: 1rpx solid #f5f5f5;

  &:last-child {
    border-bottom: none;
  }
}

.menu-icon {
  font-size: 40rpx;
  margin-right: 20rpx;
}

.menu-text {
  flex: 1;
  font-size: 30rpx;
  color: #333;
}

.menu-arrow {
  font-size: 28rpx;
  color: #999;
}
</style>
